<html>

<head>
    <meta charset="utf-8">


    <title>Codeup Calculator</title>


    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/calculator2.css">
</head>

<body>
    <div>
        <br>
        <br>
        <center><img src="codeup_logo.png"></center>

    <div class="header">
        <center>
            <h1>Calculator</h1>
        </center>
        <br>
    </div>

    <center><div class="container-fluid form group">
        <input id="left" type="text" readonly placeholder="numbers">
        <input id="center" type="text" readonly placeholder="operators">
        <input id="right" type="text" readonly placeholder="numbers">

    </div></center>
    </div>

    </div>


    <center><div class="container form group">
        <div class="row">

            <button data-value="clear" class="btn btn-danger btn-operator col-xs-3" type="button">Clear</button>
            <button data-value='null' class='btn btn-default col-xs-3'></button>
            <button data-value='null' class='btn btn-default col-xs-3'></button>
            <button data-value="divide" class="btn btn-primary btn-operator col-xs-3" type="button">/</button>

        </div>

        <div class="row">

            <button data-value="7" class="btn btn-info col-xs-3" type="button">7</button>
            <button data-value="8" class="btn btn-info col-xs-3" type="button">8</button>
            <button data-value="9" class="btn btn-info col-xs-3" type="button">9</button>
            <button data-value="multiply" class="btn btn-primary btn-operator col-xs-3" type="button">X</button>
        </div>
        <div class="row">

            <button data-value="4" class="btn btn-info col-xs-3" type="button">4</button>
            <button data-value="5" class="btn btn-info col-xs-3" type="button">5</button>
            <button data-value="6" class="btn btn-info col-xs-3" type="button">6</button>
            <button data-value="subtract" class="btn btn-primary btn-operator col-xs-3" type="button">-</button>

        </div>
        <div class="row">

            <button data-value="1" class="btn btn-info col-xs-3" type="button">1</button>
            <button data-value="2" class="btn btn-info col-xs-3" type="button">2</button>
            <button data-value="3" class="btn btn-info col-xs-3" type="button">3</button>
            <button data-value="add" class="btn btn-primary btn-operator col-xs-3" type="button">+</button>

        </div>
        <div class="row">

            <button data-value="0" class="btn btn-info col-xs-6" type="button">0</button>
            <button data-value="decimal" class="btn btn-primary col-xs-3" type="button">.</button>
            <button data-value="equals" class="btn btn-success btn-operator col-xs-3" type="button">=</button>

        </div>
    </div></center>

    <script type="text/javascript">
        (function() {
            "use strict";

            // variables
            var result = 0;
            var operator = null;
            var completed = false;
            var isDecimal = false;

            // elements
            var leftInput = document.getElementById("left");
            var centerInput = document.getElementById("center");
            var rightInput = document.getElementById("right");
            var activeInput = leftInput;

            var buttons = document.getElementsByTagName("button");

            // display values
            function toDisplay(event) {
                switch (this.getAttribute("data-value")) {
                    case "clear":
                        leftInput.value = null;
                        centerInput.value = null;
                        rightInput.value = null;
                        operator = null;
                        completed = true;
                        isDecimal = false;
                        activeInput = leftInput;
                        break;
                    case "divide":
                        centerInput.value = "/";
                        operator = "divide";
                        completed = false;
                        isDecimal = false;
                        activeInput = rightInput;
                        break;
                    case "multiply":
                        centerInput.value = "X";
                        operator = "multiply";
                        completed = false;
                        isDecimal = false;
                        activeInput = rightInput;
                        break;
                    case "subtract":
                        centerInput.value = "-";
                        operator = "subtract";
                        completed = false;
                        isDecimal = false;
                        activeInput = rightInput;
                        break;
                    case "add":
                        centerInput.value = "+";
                        operator = "add";
                        completed = false;
                        isDecimal = false;
                        activeInput = rightInput;
                        break;
                    case "equals":
                        leftInput.value = doMath(parseFloat(leftInput.value), operator, parseFloat(rightInput.value));
                        rightInput.value = null;
                        completed = true;
                        isDecimal = false;
                        activeInput = leftInput;
                        break;
                    case "decimal":
                        if (!isDecimal) {
                            if (completed) {
                                activeInput.value = this.innerText;
                                centerInput.value = null;
                                operator = null;
                                isDecimal = true;
                                completed = false;
                            } else {
                                activeInput.value += this.innerText;
                                isDecimal = true;
                            }
                        }
                        break;
                    default:
                        if ((activeInput == leftInput) && (completed)) {
                            activeInput.value = this.innerText;
                            centerInput.value = null;
                            operator = null;
                            completed = false;
                        } else {
                            activeInput.value += this.innerText;
                        }
                }
            }


            function doMath(left, operator, right) {
                switch (operator) {
                    case "add":
                        if (isNaN(right)) {
                            right = left;
                        }
                        result = left + right;
                        return result;
                    case "subtract":
                        if (isNaN(right)) {
                            right = left;
                        }
                        result = left - right;
                        return result;
                    case "multiply":
                        if (isNaN(right)) {
                            right = left;
                        }
                        result = left * right;
                        return result;
                    case "divide":
                        if (isNaN(right)) {
                            right = left;
                        }
                        result = left / right;
                        return result;
                    default:
                        result = 0;
                        return result;
                }
            }

            //Listener
            for (var i = 0; i < buttons.length; i++) {
                buttons[i].addEventListener('click', toDisplay);
            }

        })();
    </script>

</body>

</html>